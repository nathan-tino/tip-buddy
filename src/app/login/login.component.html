<div class="login-container">
  <!-- Modern Login Card -->
  <p-card class="login-card">
    <ng-template pTemplate="header">
      <div class="login-header">
        <div class="login-icon">
          <i class="pi pi-user text-4xl"></i>
        </div>
        <h2 class="login-title">Welcome Back</h2>
        <p class="login-subtitle">Sign in to your account to continue</p>
      </div>
    </ng-template>

    <ng-template pTemplate="content">
      <form (ngSubmit)="login()" class="login-form">
        <!-- Username Field -->
        <div class="field">
          <p-floatlabel>
            <input 
              pInputText 
              id="username"
              [(ngModel)]="userName" 
              name="userName" 
              required 
              autocomplete="username"
              fluid
              [disabled]="isLoading" />
            <label for="username">Username</label>
          </p-floatlabel>
        </div>

        <!-- Password Field -->
        <div class="field">
          <p-floatlabel>
            <p-password 
              inputId="password"
              [(ngModel)]="password" 
              name="password" 
              required 
              autocomplete="current-password"
              [toggleMask]="true"
              [feedback]="false"
              styleClass="w-full"
              fluid
              [disabled]="isLoading">
            </p-password>
            <label for="password">Password</label>
          </p-floatlabel>
        </div>

        <!-- Error Message -->
        @if (error) {
          <p-message severity="error" [text]="error" class="error-message"></p-message>
        }

        <!-- Login Button -->
        <p-button 
          type="submit"
          label="Sign In" 
          icon="pi pi-sign-in"
          [loading]="isLoading"
          loadingIcon="pi pi-spin pi-spinner"
          styleClass="w-full login-button">
        </p-button>
      </form>
    </ng-template>

    <ng-template pTemplate="footer">
      <div class="login-footer">
        <p class="register-link">
          New to Tip Buddy? 
          <a routerLink="/register" class="register-link-text">Create an account</a>
        </p>
      </div>
    </ng-template>
  </p-card>
</div>
